## 1. 운영체제 개요

들어가기에 앞서서..

### 자원/시스템 자원이란?

- 명확히 정의되어 있지는 않지만 보통 프로그램을 실행하는 데에 있어 필요한 요소들을 일컬어 자원(Resource)이라고 부른다.
- 컴퓨터의 네 가지 핵심 부품을 포함한다. 외에도 네트워크 패킷이라던지 파일도 자원에 속한다고 할 수 있다.

### 운영체제는 뭐지? 소프트웨어인가?

- 실행할 프로그램에 필요한 자원을 할당하고
- 프로그램이 올바르게 실행되도록 돕는다.
- 즉..! 프로그램을 위한 특별한 프로그램이라고 할 수 있다.
- 참고로 실행되고 있는 프로그램은 메모리에 적재된다.
- 고로!! 운영체제 또한 메모리에 적재돼서 동작한다.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/e11f4eac-f83e-4911-a354-01d8604e4e59/2f431db9-7f0b-4d50-a3d9-6924003df226/Untitled.png)

- 이 커널 영역이 운영체제가 적재되는 공간이다.
- 응용 프로그램: 사용자가 특별한 목적을 위해 사용하는 일반적인 프로그램. EX) 메모장, 브라우저 등

### 그래서 정확히 뭘 하는데?

- 메모리 관리
    - 응용 프로그램을 실행할 때 운영체제가 적당한 공간에 프로그램을 적재해서 실행해준다.
    - 사용하지 않는 프로그램도 운영체제가 삭제하고 비워준다.
- CPU 관리
    - 우리가 컴퓨터를 쓸 때 여러 프로그램을 동시에 사용하고 있다고 생각한다.
    - 사실 이는 우리가 인지하지 못할 정도의 속도로 빠르게 번갈아 하면서 실행되고 있는 것이다.
    - 이 환경에서 어떤 프로그램을 먼저 실행할지, 어떤 프로그램은 나중에 실행해도 되는지 등의 문제를 결정해주는 것이 운영체제의 역할이다.
- 입출력 장치 관리
- 즉, 운영체제는 응용 프로그램과 하드웨어 사이에 위치하여 그 사이를 연결지어 주는 연결다리와 같은 프로그램이다.

## 2. 커널(Kernel)

### 개념

- 운영체제가 제공하는 기능은 매우 다양하다.
- 하지만 운영체제가 프로그램에게 제공해주는 **가장 핵심적인 서비스**는 존재한다.
- 이러한 핵심적인 서비스를 담당하는 부분을 커널이라고 한다.

### 자원에 직접 접근??

- 응용 프로그램은 자원에 직접 접근할 수 없다!
- 직접 접근할 수 있다면 한 프로그램이 CPU를 쓰고 있을 때 다른 프로그램도 쓴다거나 하는 문제가 발생할 수도 있다.
- 운영체제는 자신을 통해서 접근하도록 하여 자원을 보호한다.
- 즉, 자원의 문지기 역할을 하는데 이 역할은 이중 모드로서 구현이 된다.

### 이중 모드

- CPU가 명령어를 실행하는 모드를 크게 사용자 모드와 커널 모드로 구분하는 방식이다.
- 사용자 모드
    - 운영체제 서비스를 제공 받을 수 없는 실행 모드
    - 커널 영역의 코드를 실행할 수 없는 모드
    - 자원 접근 불가
- 커널 모드
    - 운영체제의 서비스를 제공 받을 수 있는 모드
    - 자원 접근을 비롯한 모든 명령어 실행 가능
- 플레그 레지스터에서 슈퍼바이저 플래그가 1일 때 커널 모드이고, 0일 때 사용자 모드이다.

### 시스템 호출

- 커널 모드로 전환하여 실행하기 위해 호출
- 인터럽트의 일종이다.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/e11f4eac-f83e-4911-a354-01d8604e4e59/ef0f96d0-4bf5-44e7-9869-6bcedef7e717/Untitled.png)

- 응용 프로그램을 실행하는 과정에서 자원을 접근해야 한다면 시스템 호출을 하게 되고 자원에 접근하는 코드를 실행하게 되고 복귀해 사용자 모드로 실행해 나간다.

> 이중 모드와 시스템 호출을 통해서 일반적인 프로그램이 어떻게 운영체제와 상호작용하면서 실행되는지 알 수 있었다.
> 

## 3. 운영체제의 핵심 서비스

일반적인 프로그램이 운영체제와 어떤 상호작용을 하는지 간단하게 알아보겠다. 자세한 내용은 앞으로 큰 챕터로 하나씩 나올듯하다.

### 프로세스 관리

- 프로세스 == 메모리에 적재되어 실행 중인 프로그램
- 많은 프로세스들이 동시에 실행된다.
- 동시다발적으로 생성/실행/삭제되는 다양한 프로세스를 일목묘연하게 관리한다.
- 프로세스와 스레드, 프로세스 동기화, 교착상태 해결 등

### 자원 접근 및 할당

- CPU 스케줄링
- 메모리( 페이징 등)
- 입출력장치
- 파일 시스템 관리