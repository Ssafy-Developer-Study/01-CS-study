# 입출력 장치

### 정의
컴퓨터와 사용자 사이의 정보를 교환할 수 있도록 하는 장치

- USB 메모리, SSD, 키보드, 마우스 등이 있음
- 이 때, 보조기억장치도 입출력장치가 될 수 있음

### 특징

- 데이터 전송률이 CPU, 메모리에 비해 낮음 
- 즉, CPU-메모리가 입출력장치와 데이터를 주고 받기 위해서는 싱크를 맞출 필요가 있음 
    —> 장치 컨트롤러 

# 장치 컨트롤러

### 정의
입출력 장치와 정보를 주고받기 위한 인터페이스 역할의 **하드웨어**

### 역할
- CPU와 입출력장치 간의 통신 중개
- 데이터 버퍼링
- 오류 검출

### 구조

- 데이터 레지스터
    - CPU와 입출력장치 사이에 주고받을 데이터가 담기는 레지스터
- 상태 레지스터
    - 상태 정보 저장 (입출력 작업 준비여부, 작업 완료여부, 오류여부)
- 제어 레지스터
    - 입출력장치가 수행할 내용에 대한 제어 정보 (명령)

# 장치 드라이버

### 정의

장치 컨트롤러의 동작을 감지하고 제어하는 **프로그램**

# 프로그램 입출력

- 프로그램 명령어로 입출력장치를 제어하는 방법
- 즉, **명령어** —> 장치 컨트롤러와 상호작용

## 방법1. 메모리 맵 입출력
- 입출력 장치 접근을 위한 명령어가 딱히 없음

## 방법2. 고립형 입출력
- 입출력장치 읽기/쓰기 라인을 제어버스에 추가하여, 접근하도록 함

# 인터럽트 기반 입출력
- 우선순위가 높은 인터럽트를 먼저 처리
    
    —> PIC (Programmable Interrut Controller)
    
    - 여러 장치 컨트롤러와 연결되어, 장치 컨트롤러의 인터럽트간 우선순위를 판단

# DMA 입출력
- **DMA (Direct Memory Access)**
- CPU를 거치지 않고 입출력장치가 메모리에 직접적으로 접근하는 기능

### 입출력 과정
1. CPU는 DMA 컨트롤러에 입출력 작업을 명령
    
2. DMA 컨트롤러는 CPU 대신 장치 컨트롤러와 상호작용하며 입출력 작업을 수행
    
3. 입출력 작업이 끝나면 DMA 컨트롤러는 인터럽트를 통해 CPU에 작업이 끝났음을 알림

—> CPU는 입출력 작업의 **시작과 끝** 만 관여

### PCIe (PCI express)
- 컴퓨터 하드웨어 간에 데이터를 전송하는 고속 인터페이스 표준
- PCIe 슬롯을 통해 입출력 버스에 연결