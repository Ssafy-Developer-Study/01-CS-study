# 9. 운영체제 시작하기

## 1 ) 운영체제를 알아야 하는 이유

1. 운영체제란
    1. 프로그램 실행에 마땅히 필요한 요소들을 시스템 자원이라고 한다.
        - CPU, 메모리, 보조기억장치, 입출력장치 등과 같은 컴퓨터 부품들을 모두 자원이라고 할 수 있다.
    2. 실행한 프로그램에 필요한 자원을 할당하고, 프로그램이 올바르게 실행되도록 돕는 프로그램이 운영체제이다.
2. 특징
    1. 운영체제 또한 여느 프로그램과 마찬가지로 메모리에 적재되어야 한다.
        - 다만, 특별한 프로그램이므로 메모리 내 커널 영역이라는 공간에 따로 적재된다.
        - 커널 영역을 제외한 나머지 영역을 사용자 영역이라고 한다.
    2. 운영체제는 실행한 프로그램을 메모리에 적재하고, 더 이상 실행되지 않는 프로그램을 메모리에서 삭제하며 지속적으로 메모리 자원을 관리한다.
    3. 운영체제는 한 프로그램이 CPU를 독점할 수 없도록, CPU 자원을 공정하게 할당한다.
    

## 2 ) 운영체제의 큰 그림

1. 커널
    1. 운영체제가 응용 프로그램에 제공하는 서비스 종류는 다양하지만, 핵심적인 기능을 맡고 있는 서비스들이 있다. 이러한 서비스를 담당하는 부분을 커널이라고 한다.
    2. 사용자 인터페이스
        1. 운영체제가 제공하는 서비스 중 커널에 포함되지 않는 서비스
        2. 그래픽 유저 인터페이스(Graphical User Interface, GUI)
            - 그래픽을 기반으로 컴퓨터와 상호작용 할 수 있는 인터페이스
        3. 커맨드 라인 인터페이스(Command Line Interface, CLI)
            - 명령어를 기반으로 컴퓨터와 상호작용 할 수 있는 인터페이스
2. 이중 모드와 시스템 호출
    1. 운영체제는 응용 프로그램들이 자원에 접근하력 할 때 오직 자신을 통해서만 접근하도록 하여 자원을 보호한다.
        1. 운영체제는 커널 영역 내의 하드 디스크에 데이터를 저장하는 코드를 실행하여 응용 프로그램의 작업을 대신 수행한다.
    2. 이중 모드(dual mode)
        1. CPU가 명령어를 실행하는 모드를 크게 사용자 모드와 커널 모드로 구분하는 방식을 말한다.
        2. 사용자 모드
            - 운영체제 서비스를 제공받을 수 없는 실행 모드
                - 커널 영역의 코드를 실행할 수 없기 때문에 하드웨어 자원에 접근하는 명령어를 실행할 수 없다.
        3. 커널 모드
            - 운영체제 서비스를 제공받을 수 있는 실행 모드
                - 커널 영역의 코들르 실행할 수 있기 때문에 자원에 접근하는 명령어를 실행할 수 있다.
    3. 시스템 호출
        1. 운영체제 서비스를 제공받기 위한 요청
            - 사용자 모드로 실행되는 프로그램은 시스템 호출을 통해 커널 모드로 전환하여 운영체제 서비스를 제공받을 수 있다.
        2. 시스템 호출은 일종의 인터럽트이다.
        3. 순서
            - 하드 디스크에 데이터를 저장하는 시스템 호출을 발생시켜 커널 모드로 전환한다.
            - 운영체제 내의 ‘하드 디스크에 데이터를 저장하는 코드’를 실행함으로써 하드 디스크에 접근할 수 있다.
            - 하드 디스크에 접근이 끝났다면 다시 사용자 모드로 복귀한다.
3. 운영체제의 핵심 서비스
    1. 프로세스 관리
        1. 실행 중인 프로그램을 프로세스라고 한다.
        2. 일반적으로 하나의 CPU는 한 번에 하나의 프로세스만 실행할 수 있다.
            - CPU는 한 프로세스를 실행하다가 다른 프로세스로 전환하여 실행하는 것을 반복한다.
    2. 자원 접근 및 할당
        1. 모든 프로세스는 실행을 위해 자원을 필요로 한다.
        2. 운영체제는 프로세스들이 사요요할 자원에 접근하고 조작함으로써 프로세스에 필요한 자원을 할당해 준다.
        3. CPU
            - 메모리에는 여러 프로세스가 적재되고, 하나의 CPU는 한 번에 하나의 프로세스만 실행할 수 있다.
            - CPU 스케줄링
                - 운영체제는 프로세스들을 공정하게 할당하기 위해 어떤 프로세스부터 이용할 것인지, 얼마나 오래 이용할 것인지 등을 결정할 때 사용
        4. 메모리
            - 메모리에 적재된 프로세스들은 크기도, 적재되는 주소도 다양하다.
        5. 입출력 장치
            - 인터럽트 서비스 루틴은 운영체제가 제공하는 기능으로 커널 영역에 존재한다.
            - CPU에 하드웨어 인터럽트 요청 신호를 보내면 CPU는 하던 일을 잠시 백업한 뒤 커널 영역에 있는 인터럽트 서비스 루틴을 실행한다.
    3. 파일 시스템 관리
        1. 여러 파일을 생성, 삭제, 관리 하는 것도 운영체제가 지원하는 핵심 서비스이다.
